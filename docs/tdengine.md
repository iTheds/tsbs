# TSBS Supplemental Guide: TDengine

TDengine is an open source time-series database with high performance, scalability and SQL support. 
This supplemental guide explains how
the data generated for TSBS is stored, additional flags available when
using the data importer (`tsbs_load_tdengine`), and additional flags
available for the query runner (`tsbs_run_queries_tdengine`). **This
should be read *after* the main README.**

## Data format

Data generated by `tsbs_generate_data` for TDengine is serialized in a
"pseudo-CSV" format. Each reading consists of a row, the first item is the operation type represented by 1, 2, 3.

- 1 means insert data, the format is:
    - `1,common table name,field count,insert data`
- 2 means to create a super table, the format is:
    - `2,super table name,common table name, create table sql`
- 3 means create an ordinary table, the format is:
    - `3,super table name,common table name,create table sql`

An example for the `cpu-only` use case:

```text
2,cpu,t_75d8e31a27aa9870f34940c7d963ad54,create table cpu (ts timestamp,usage_user bigint,usage_system bigint,usage_idle bigint,usage_nice bigint,usage_iowait bigint,usage_irq bigint,usage_softirq bigint,usage_steal bigint,usage_guest bigint,usage_guest_nice bigint) tags (hostname binary(30),region binary(30),datacenter binary(30),rack binary(30),os binary(30),arch binary(30),team binary(30),service binary(30),service_version binary(30),service_environment binary(30))
3,cpu,t_75d8e31a27aa9870f34940c7d963ad54,create table t_75d8e31a27aa9870f34940c7d963ad54 using cpu (hostname,region,datacenter,rack,os,arch,team,service,service_version,service_environment) tags ('host_0','eu-central-1','eu-central-1a','6','Ubuntu15.10','x86','SF','19','1','test')
1,t_75d8e31a27aa9870f34940c7d963ad54,10,(1451606400000,58,2,24,61,22,63,6,44,80,38)
```

---

## `tsbs_load_tdengine` and `tsbs_run_queries_influx` Additional Flags

### `-user` (type: `string`, default: `root`)

User to connect to TDengine

### `-pass` (type: `string`, default: `taosdata`)

Password for user connecting to TDengine

### `-host` (type: `string`)

Hostname of the TDengine server.

### `-port` (type: `int`, default: `6030`)

Port of the TDengine server.
